Here is the complete setup using Terraform and Docker to deploy Grafana:

**main.tf**
```
provider "kreuzwerker/docker" {
  docker_bin = "/usr/local/bin/docker"
}

resource "docker_container" "grafana" {
  name  = "grafana"
  image = "grafana/grafana:latest"
  ports = ["3000:3000"]
  volumes = [
    "${path.module}/grafana-data:/var/lib/grafana"
  ]
  env = [
    "GF_SERVER_ADMIN_USER=${var.admin_username}",
    "GF_SERVER_ADMIN_PASSWORD=${var.admin_password}"
  ]
}

resource "docker_volume" "grafana_data" {
  name = "grafana-data"
}
```
**variables.tf**
```
variable "admin_username" {
  type = string
  default = "admin"
}

variable "admin_password" {
  type = string
  default = "admin"
}
```
**outputs.tf**
```
output "grafana_url" {
  value = "http://localhost:3000"
}
```
**docker-compose.yml** (optional)
```
version: '3'

services:
  grafana:
    image: grafana/grafana:latest
    ports:
      - "3000:3000"
    volumes:
      - grafana-data:/var/lib/grafana
    environment:
      - GF_SERVER_ADMIN_USER=${admin_username}
      - GF_SERVER_ADMIN_PASSWORD=${admin_password}

volumes:
  grafana-data:
```
**README.md**
```
# Grafana Setup

This setup uses Terraform and Docker to deploy Grafana locally. It provisions a Docker container and exposes it on port 3000. The container uses a persistent volume for storage and sets the admin user and password through environment variables.

## Usage

1. Clone this repository and navigate to the directory.
2. Run `terraform init` to initialize the Terraform working directory.
3. Run `terraform apply` to provision the infrastructure and start the Grafana container.
4. Access Grafana at <http://localhost:3000> and log in with the admin user and password set in the `variables.tf` file.

Note: You can modify the `variables.tf` file to change the admin user and password.

## Docker Compose

If you prefer to use Docker Compose instead of Terraform, you can use the `docker-compose.yml` file instead. Run `docker-compose up -d` to start the container in detached mode.
```
**Note:** Make sure to update the `docker_bin` path in the `provider "kreuzwerker/docker"` block to the correct path on your system.
